<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/static/style.css">
        <meta charset="utf-8">
        <title> AskMate </title>
    </head>

    <body>
        <h1 id="top"> AskMate </h1>
        <h2 id="top"> Questions </h2>
        <form action="/search" method="post">
            <input type="search" name="asksearch">
            <button class=button type="submit" name="submitquestion"> Search </button>
        </form>
        <table border="1" align="center">
            <tr><th>ID</th>
                <th>Question</th>
                <th>Description</th>
                {% if not sort %}
                <th><a href="/list/sort/time/ASC">Submission time</a></th>
                <th><a href="/list/sort/view/ASC">Views </a></th>
                <th><a href="/list/sort/vote/ASC">Votes</a></th>
                {% else %}
                <th><a href="/list/sort/time/DESC">Submission time</a></th>
                <th><a href="/list/sort/view/DESC">Views </a></th>
                <th><a href="/list/sort/vote/DESC">Votes</a></th>
                {% endif %}
                
                <th>Image</th>
                <th>Edit</th>
                <th>Delete</th>
                <th>Vote Up</th>
                <th>Vote Down</th>
            </tr>
        {% if search %}
            {% for line in database %}
                {% for dict in question_database %}
                    {% if line['id'] == dict['id'] %}
                    <tr>
                        <td>{{line['id']}}</td>
                        <td>
                            <form action="{{ url_for('viewcount', questionid=line['id']) }}" method="post">
                            <button type="submit" name="question" class="btn-link">{{line['title']}}</button>
                            </form>
                        </td>
                        <td>{{line['message']}}</td>
                        <td>{{line['submission_time']}}</td>
                        <td>{{line['view_number']}}</td>
                        <td>{{line['vote_number']}}</td>
                        <td><img src="{{line['image']}}" width="200" height="150"></td>
                        <td><a href="/edit-question/{{ line['id'] }}/"><img src="http://icongal.com/gallery/download/93429/256/png" width="40" height="40"></a></td>
                        <td><a href="/delete-question/{{ line['id'] }}/"><img src="http://www.iconsfind.com/wp-content/uploads/2015/11/20151104_563973ab0e1a6-210x210.png" width="40" height="40"></a></td>
                        <td><a href="/question/{{ line['id'] }}/vote-up"><img src="http://www.pngmart.com/files/5/Black-Cat-PNG-HD.png" width="60" height="60"></a></td>
                        <td><a href="/question/{{ line['id'] }}/vote-down"><img src="https://cdn.shopify.com/s/files/1/2023/9623/products/No_Hours_cat_fart_pin_500x.png?v=1495509783" width="100" height="100"></a></td>
                    </tr>
                    {% endif %}
                {% endfor %}
            {% endfor %}            
        {% else %}
            {% for line in database %}
                <tr>
                    <td>{{line['id']}}</td>
                    <td>
                        <form action="{{ url_for('viewcount', questionid=line['id']) }}" method="post">
                        <button type="submit" name="question" class="btn-link">{{line['title']}}</button>
                        </form>
                    </td>
                    <td>{{line['message']}}</td>
                    <td>{{line['submission_time']}}</td>
                    <td>{{line['view_number']}}</td>
                    <td>{{line['vote_number']}}</td>
                    <td><img src="{{line['image']}}" width="200" height="150"></td>
                    <td><a href="/edit-question/{{ line['id'] }}/"><img src="http://icongal.com/gallery/download/93429/256/png" width="40" height="40"></a></td>
                    <td><a href="/delete-question/{{ line['id'] }}/"><img src="http://www.iconsfind.com/wp-content/uploads/2015/11/20151104_563973ab0e1a6-210x210.png" width="40" height="40"></a></td>
                    <td><a href="/question/{{ line['id'] }}/vote-up"><img src="http://www.pngmart.com/files/5/Black-Cat-PNG-HD.png" width="60" height="60"></a></td>
                    <td><a href="/question/{{ line['id'] }}/vote-down"><img src="https://cdn.shopify.com/s/files/1/2023/9623/products/No_Hours_cat_fart_pin_500x.png?v=1495509783" width="100" height="100"></a></td>
                </tr>
            {% endfor %}    
        {% endif %}
        </table>

        <p><button class="button" type="submit" onclick="location.href = 'http://127.0.0.1:5000/new-question';"> Add new question </button></p>
        <p><button class="button" type="submit" onclick="location.href = 'http://127.0.0.1:5000/list';"> List all questions </button></p>        
        <p><img class="logo" src="/static/beauty_and_the_beast_logo_by_chenwei_zachary-d55a4ap.png" height="500" width="1000" align="center"></p>
    
    </body>
    
</html>

